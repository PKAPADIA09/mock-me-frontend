generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  email      String      @unique
  password   String
  created_at DateTime    @default(now())
  first_name String
  last_name  String
  updated_at DateTime?   @updatedAt
  id         Int         @id @default(autoincrement())
  interviews Interview[]

  @@map("users")
}

model Interview {
  id                  Int      @id @default(autoincrement())
  user_id             Int      
  role                String
  level               String
  tech_stack          String[]
  number_of_questions Int
  company_name        String
  job_description     String
  company_website     String?
  interview_focus     String[]
  created_at          DateTime @default(now())
  
  user                User     @relation(fields: [user_id], references: [id]) 
  questions           InterviewQuestion[] 

  @@map("interviews")
}

model InterviewQuestion { // ADDED: New model for questions table
 id           Int       @id @default(autoincrement())
 interview_id Int
 question     String
 answer       String    @default("")
 feedback     String    @default("")
 order        Int       @map("question_order") 
 created_at   DateTime  @default(now())
 updated_at   DateTime? @updatedAt
 
 interview    Interview @relation(fields: [interview_id], references: [id], onDelete: Cascade)

 @@map("interview_questions")
}
